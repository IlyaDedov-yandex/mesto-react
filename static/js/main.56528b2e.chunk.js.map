{"version":3,"sources":["contexts/CurrentUserContext.js","components/Header.js","utils/api.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/ImagePopup.js","components/Spinner.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Header","className","href","target","rel","api","options","this","_baseUrl","baseUrl","_headers","headers","fetch","then","_checkResponse","data","method","body","JSON","stringify","cardId","status","_likeCard","_dislikeCard","link","avatar","res","ok","json","Promise","reject","authorization","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","onClick","src","alt","name","type","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","about","map","Footer","lang","PopupWithForm","title","btnCaption","isOpen","onClose","children","onSubmit","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","value","onChange","placeholder","id","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","urlRef","useRef","current","ref","AddPlacePopup","setLink","DeleteCardPopup","onDeleteCard","ImagePopup","Spinner","App","setCurrentUser","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isDeletePopupOpen","setDeletePopupOpen","setCards","selectedCard","setSelectedCard","isLoading","setIsLoading","cardToDelete","setCardToDelete","closeAllPopups","all","getInitialInfo","getInitialCards","info","cardsArr","catch","err","console","log","Provider","changeLikeCardStatus","newCard","state","c","setUserInfo","createNewCard","deleteCard","filter","setUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.56528b2e.chunk.js","sourcesContent":["import React from \"react\";\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header\">\r\n            <a className=\"header__logo\" href=\"https://ilyadedov-yandex.github.io/mesto-react/\" target=\"_self\" rel=\"noopener noreferrer\"></a>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","class Api {\r\n    constructor(options) {\r\n        this._baseUrl = options.baseUrl;\r\n        this._headers = options.headers;\r\n    }\r\n    getInitialInfo() {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            headers: this._headers\r\n        })\r\n            .then(this._checkResponse)\r\n    };\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            headers: this._headers\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n\r\n    setUserInfo(data) {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify(data)\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n    createNewCard(data) {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify(data)\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n    deleteCard(cardId) {\r\n        return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers,\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n    _likeCard(cardId) {\r\n        return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n            method: 'PUT',\r\n            headers: this._headers,\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n    _dislikeCard(cardId) {\r\n        return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers,\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n    changeLikeCardStatus(cardId, status) {\r\n        return status ? this._likeCard(cardId) : this._dislikeCard(cardId);\r\n    }\r\n    setUserAvatar(link) {\r\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: link\r\n            })\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n    _checkResponse(res) {\r\n        if (!res.ok) {\r\n            return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n        }\r\n        return res.json();\r\n    }\r\n}\r\nexport const api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-27',\r\n    headers: {\r\n        authorization: '2d3e1cdc-e394-4bd9-a5ca-873b1a753e66',\r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = `element__like-btn ${isLiked && 'element__like-btn_active'}`;\r\n    function handleClick() {\r\n        onCardClick(card);\r\n    }\r\n    function handleLikClick() {\r\n        onCardLike(card);\r\n    }\r\n    function handleDeleteClick() {\r\n        onCardDelete(card);\r\n    }\r\n    return (\r\n        <li className=\"element\">\r\n            <img onClick={handleClick} className=\"element__image\" src={card.link} alt={card.name} />\r\n            {isOwn && <button onClick={handleDeleteClick} type=\"button\" className=\"element__delete-btn\" aria-label=\"Удалить карточку\"></button>}\r\n            <div className=\"element__caption-container\">\r\n                <h2 className=\"element__caption\">{card.name}</h2>\r\n                <div>\r\n                    <button onClick={handleLikClick} type=\"button\" className={cardLikeButtonClassName} aria-label=\"Поставить лайк\"></button>\r\n                    <p className=\"element__like-counter\">{card.likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </li >\r\n    );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport Card from './Card';\r\nfunction Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete }) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    return (\r\n        <main className=\"main\">\r\n            <section className=\"profile\">\r\n                <div className=\"profile__group\">\r\n                    <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар\" />\r\n                    <div className=\"profile__avatar-edit\" onClick={onEditAvatar}></div>\r\n                </div>\r\n                <div className=\"profile__info\">\r\n                    <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n                    <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n                    <button onClick={onEditProfile} type=\"button\" className=\"profile__edit-button\" aria-label=\"Изменить профайл\"></button>\r\n                </div>\r\n                <button onClick={onAddPlace} type=\"button\" className=\"profile__add-button\" aria-label=\"Добавить профайл\"></button>\r\n\r\n            </section>\r\n            <section className=\"elements\">\r\n                <ul className=\"elements__list\">\r\n                    {cards.map((card) => <Card card={card} key={card._id} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete} />)}\r\n                </ul>\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\" lang=\"en-GB\">&copy; 2021 Mesto Russia</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\nfunction PopupWithForm({ name, title, btnCaption = \"Сохранить\", isOpen, onClose, children, onSubmit }) {\r\n    return (\r\n        <div className={`popup popup_type_${name} ${isOpen ? 'popup_opened' : ''}`}>\r\n            <div className=\"popup__container\">\r\n                <button onClick={onClose} type=\"button\" className=\"popup__close-btn\" aria-label=\"Закрыть попап\"></button>\r\n                <form className=\"form\" name={`${name}-form`} onSubmit={onSubmit} noValidate>\r\n                    <h2 className=\"form__title\">{title}</h2>\r\n                    {children}\r\n                    <button type=\"submit\" className=\"form__save-btn\">{btnCaption}</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default PopupWithForm;","import React, { useState } from \"react\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [name, setName] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser, isOpen]);\r\n    function handleNameChange(e) {\r\n        setName(e.target.value)\r\n    }\r\n    function handleDecriptionChange(e) {\r\n        setDescription(e.target.value)\r\n    }\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n            name: name,\r\n            about: description,\r\n        });\r\n    }\r\n    return (\r\n        <PopupWithForm name=\"edit\" title=\"Редактировать профиль\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n            <label className=\"form__field\">\r\n                <input type=\"text\" name=\"profile-name\" value={name} onChange={handleNameChange} placeholder=\"Имя\" className=\"form__input form__input_type_name\"\r\n                    id=\"name-input\" required minLength=\"2\" maxLength=\"40\" />\r\n                <span className=\"form__input-error name-input-error\"></span>\r\n            </label>\r\n            <label className=\"form__field\">\r\n                <input type=\"text\" name=\"profile-about\" value={description} onChange={handleDecriptionChange} placeholder=\"О себе\"\r\n                    className=\"form__input form__input_type_about\" id=\"about-input\" required minLength=\"2\"\r\n                    maxLength=\"200\" />\r\n                <span className=\"form__input-error about-input-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n    const urlRef = React.useRef();\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateAvatar(urlRef.current.value);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n            <label className=\"form__field\">\r\n                <input type=\"url\" ref={urlRef} name=\"avatar-link\" placeholder=\"ссылка на аватар\"\r\n                    className=\"form__input form__input_type_link\" id=\"avatar-link-input\" required />\r\n                <span className=\"form__input-error avatar-link-input-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React, { useEffect, useState } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n    const [name, setName] = useState('');\r\n    const [link, setLink] = useState('');\r\n    useEffect(() => {\r\n        setName('');\r\n        setLink('');\r\n    }, [isOpen]);\r\n    function handleNameChange(e) {\r\n        setName(e.target.value);\r\n    }\r\n    function handleLinkChange(e) {\r\n        setLink(e.target.value);\r\n    }\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onAddPlace({\r\n            name: name,\r\n            link: link,\r\n        });\r\n    }\r\n    return (\r\n        <PopupWithForm name=\"new-card\" title=\"Новое место\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n            <label className=\"form__field\">\r\n                <input type=\"text\" name=\"card-name\" value={name} onChange={handleNameChange} placeholder=\"Название\" className=\"form__input form__input_type_name\"\r\n                    id=\"card-name-input\" required minLength=\"2\" maxLength=\"30\" />\r\n                <span className=\"form__input-error card-name-input-error\"></span>\r\n            </label>\r\n            <label className=\"form__field\">\r\n                <input type=\"url\" name=\"card-link\" value={link} onChange={handleLinkChange} placeholder=\"Ссылка на картинку\"\r\n                    className=\"form__input form__input_type_about\" id=\"card-link-input\" required />\r\n                <span className=\"form__input-error card-link-input-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default AddPlacePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction DeleteCardPopup({ isOpen, onClose, onDeleteCard, card }) {\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onDeleteCard(card);\r\n    }\r\n    return (\r\n        <PopupWithForm name=\"delete\" title=\"Вы уверены\" btnCaption=\"Да\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} />\r\n    );\r\n}\r\n\r\nexport default DeleteCardPopup;","import React from 'react';\r\n\r\nfunction ImagePopup({ card, onClose }) {\r\n\r\n    return (\r\n        <div className={`popup popup_type_image ${card ? 'popup_opened' : ''}`}>\r\n            <figure className=\"figure\">\r\n                <button onClick={onClose} type=\"button\" className=\"popup__close-btn\" aria-label=\"Закрыть попап\"></button>\r\n                <img className=\"figure__image\" src={card ? card.link : ''}\r\n                    alt={card ? card.name : ''} />\r\n                <figcaption className=\"figure__caption\">{card ? card.name : ''}</figcaption>\r\n            </figure>\r\n        </div >\r\n    );\r\n}\r\n\r\nexport default ImagePopup;","import React from \"react\";\r\nfunction Spinner() {\r\n    return (\r\n        <div className=\"Spinner\" />\r\n    );\r\n}\r\nexport default Spinner;","\nimport React, { useState, useEffect } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport Header from './Header';\nimport { api } from '../utils/api';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DeleteCardPopup from './DeleteCardPopup';\nimport ImagePopup from './ImagePopup';\nimport Spinner from './Spinner';\nfunction App() {\n  const [currentUser, setCurrentUser] = useState({ name: '', about: '' });\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n  const [isDeletePopupOpen, setDeletePopupOpen] = useState(false);\n  const [cards, setCards] = useState([]);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [cardToDelete, setCardToDelete] = useState(null);\n  useEffect(() => {\n    Promise.all([api.getInitialInfo(), api.getInitialCards()])\n      .then(([info, cardsArr]) => {\n        setCurrentUser(info);\n        setCards(cardsArr);\n        setIsLoading(false);\n      })\n      .catch(err => console.log(err));\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n      })\n      .catch(err => console.log(err));\n  }\n  function handleSubmitDeleteCard(card) {\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n  function handleCardDelete(card) {\n    setCardToDelete(card);\n    setDeletePopupOpen(true);\n  }\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n  function closeAllPopups() {\n    setEditAvatarPopupOpen(false);\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setDeletePopupOpen(false);\n    setSelectedCard(null);\n  }\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n  function handleUpdateUser(info) {\n    api.setUserInfo(info)\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n  function handleUpdateAvatar(link) {\n    api.setUserAvatar(link)\n      .then(info => {\n        setCurrentUser(info);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n  function handleAddPlaceSubmit(card) {\n    api.createNewCard(card)\n      .then(newCard => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n        {isLoading ? <Spinner /> : < Main onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete} />}\n        <Footer />\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n        <DeleteCardPopup isOpen={isDeletePopupOpen} onClose={closeAllPopups} onDeleteCard={handleSubmitDeleteCard} card={cardToDelete} />\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\nreportWebVitals();\n"],"sourceRoot":""}